function getFavorites(){const e=document.cookie.split("; ").find(e=>e.startsWith("favorites="));if(!e)return[];try{return JSON.parse(decodeURIComponent(e.split("=")[1]))}catch{return[]}}function saveFavorites(e){document.cookie=`favorites=${encodeURIComponent(JSON.stringify(e))}; path=/; max-age=31536000`}function getCurrentGamePath(){return"/"+window.location.pathname.split("/").filter(Boolean).slice(-2).join("/")}function createFavoritesDrawer(){if(document.getElementById("favoritesDrawer"))return;const e=document.createElement("div");e.id="favoritesDrawer",e.className="favorites-drawer",e.style.cssText="\n        position: fixed;\n        top: 80px;\n        bottom: 0px;\n        right: 0px;\n        width: 350px;\n        background-color: #20232c;\n        box-shadow: rgba(0, 0, 0, 0.4) -4px 0px 16px;\n        border-radius: 15px 0px 0px 15px;\n        transform: translateX(100%);\n        transition: transform 0.3s ease-in-out;\n        z-index: 1000;\n        display: flex;\n        flex-direction: column;\n        overflow: hidden;\n        padding: 0;\n      ";const t=document.createElement("h3");t.className="favorites-drawer-title",t.textContent="Favorites";const a=document.createElement("div");a.className="favorites-list-container",a.style.cssText="flex: 1; overflow-y: auto; padding: 0 15px 15px 15px;";const n=document.createElement("div");n.id="favoritesList",n.className="favorites-masonry-grid",a.appendChild(n),e.appendChild(t),e.appendChild(a),document.body.appendChild(e),renderFavoritesList()}function toggleFavoritesDrawer(){createFavoritesDrawer();const e=document.getElementById("favoritesDrawer"),t="translateX(0px)"===e.style.transform;e.style.transform=t?"translateX(100%)":"translateX(0px)"}function renderFavoritesList(){const e=document.getElementById("favoritesList");if(!e)return;e.innerHTML="";const t=getFavorites();0!==t.length?fetch("/data-json/games.json").then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(a=>{t.forEach(t=>{const n=t.split("/").pop().replace(".html",""),r=a.find(e=>e.slug===n);r?createGameCard(r,e):createFallbackCard(t,e)})}).catch(a=>{console.error("Oyun verileri yÃ¼klenirken hata oluÅŸtu:",a),t.forEach(t=>{createFallbackCard(t,e)})}):e.innerHTML='\n          <div class="favorites-empty-state">\n            \n            <div style="color: #a0aec0; font-size: 14px;">-</div>\n          </div>\n        '}function createGameCard(e,t){const a=document.createElement("div");a.className="favourite-game-card",a.innerHTML=`\n        <a href="${e.url}" class="favourite-game-link">\n          <div class="favourite-game-image-container">\n            <img src="${e.image}" alt="${e.title}" class="favourite-game-image" \n                 onerror="this.style.display='none'; this.parentNode.innerHTML='<div class="favourite-game-placeholder">ðŸŽ®</div>\n          </div>\n          <div class="favourite-game-info">\n            <div class="favourite-game-title">${e.title}</div>\n          </div>\n        </a>\n      `,t.appendChild(a)}function createFallbackCard(e,t){const a=document.createElement("div");a.className="favourite-game-card";const n=e.split("/").pop().replace(".html","").replace(/-/g," ");a.innerHTML=`\n        <a href="${e}" class="favourite-game-link">\n          <div class="favourite-game-image-container">\n            <div class="favourite-game-placeholder">ðŸŽ®</div>\n          </div>\n          <div class="favourite-game-info">\n            <div class="favourite-game-title">${n}</div>\n          </div>\n        </a>\n      `,t.appendChild(a)}function updateFavoriteIcons(e){const t=document.getElementById("favoriteNavIcon"),a=document.getElementById("favoriteIcon");t&&t.setAttribute("fill",e?"hotpink":"gray"),a&&a.setAttribute("fill",e?"hotpink":"gray")}function toggleFavorite(){const e=getCurrentGamePath();let t=getFavorites();const a=t.indexOf(e);-1===a?(t.push(e),updateFavoriteIcons(!0)):(t.splice(a,1),updateFavoriteIcons(!1)),saveFavorites(t),renderFavoritesList()}document.addEventListener("DOMContentLoaded",()=>{const e=getCurrentGamePath();updateFavoriteIcons(getFavorites().includes(e)),"function"==typeof crayzgames&&setTimeout(()=>crayzgames(),2e3*Math.random())});